<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Recorrer una coleccion de cuentas</title>
    <script src="../clases/js/Cuenta.js" charset="utf-8"></script>
    <script src="../clases/js/CajaDeAhorro.js" charset="utf-8"></script>
    <script src="../clases/js/CuentaCorriente.js" charset="utf-8"></script>
  </head>
  <body>
    <h1>Vamos a recorrer una coleccion de cuentas</h1>

    <script type="text/javascript">
      let cuentas = new Array(new CajaDeAhorro(1,100,10),
                              new CuentaCorriente(2,2000,1000),
                              new CajaDeAhorro(3,150,2.3),
                              new CuentaCorriente(4,2500,3000),
                              new CuentaCorriente(5,2700,2500)  );


    cuentas.forEach((item, i) => {
      document.write(`<br/><br/> cuenta [${i}]
                        ${item}`)
    });

    document.write("<br/><br/><br/> todas las cuentas que tienen un saldo menor a 2500 <br/> ")

    cuentas.filter(cuenta=>cuenta.saldo<2500).forEach((item, i) => {
      document.write(`<br/><br/> cuenta [${i}]
                        ${item}`)
    });

document.write("<br/><br/><br/> todas las cuentas que tienen un saldo meyor a 2400 despues de debitarles 100 <br/> ");
    cuentas.forEach((item, i) => {
      item.debitar(100);
      });
cuentas.filter(cuenta=>cuenta.saldo>2400).forEach((item, i) => {
  document.write(`<br/><br/> cuenta [${i}]
                    ${item}`)
});

document.write("<br/><br/><br/> todas las cuentas despues de debitarles 500 <br/> ");
    cuentas.forEach((item, i) => {
      item.debitar(500);
      document.write(`<br/><br/> cuenta [${i}]
                        ${item}`);
    });

    document.write("<br/><br/><br/> sumar 5000 a todas las cuentas que tienen un saldo menor a 1500 <br/> ")

    cuentas.filter(cuenta=>cuenta.saldo<1500).forEach((item, i) => {
      item.acreditar(5000);
      document.write(`<br/><br/> cuenta [${i}]
                        ${item}`)
    });

    document.write("<br/><br/><br/>  todas las cuentas y el saldo total <br/> ")
    let total=0;
    cuentas.forEach((item, i) => {
      total+=item.saldo;
      document.write(`<br/><br/> cuenta [${i}]
                        ${item}`)
    });
    document.write(`<br/><br/> el saldo total es
                      ${total}`)

    </script>
  </body>
</html>
